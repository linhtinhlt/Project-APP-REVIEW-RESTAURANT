// lib/app_localizations.dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import 'settings_provider.dart';

// Map chá»©a táº¥t cáº£ text theo ngÃ´n ngá»¯
const Map<String, Map<String, String>> localizedValues = {
  'vi': {
    'home_title': 'Trang chá»§',
    'login': 'ÄÄƒng nháº­p',
    'logout': 'ÄÄƒng xuáº¥t',
    'review_feed': 'Báº£ng review',
    'settings': 'CÃ i Ä‘áº·t',
    'language': 'NgÃ´n ngá»¯',
    'dark_mode': 'Cháº¿ Ä‘á»™ tá»‘i',
    'theme_color': 'MÃ u chá»§ Ä‘áº¡o',
    'font_size': 'Cá»¡ chá»¯',
    'send': 'Gá»­i',
    'no_reviews': 'ChÆ°a cÃ³ review nÃ o.',
    'no_comments': 'ChÆ°a cÃ³ bÃ¬nh luáº­n nÃ o.',
    'register': 'ÄÄƒng kÃ½',
    'username': 'TÃªn ngÆ°á»i dÃ¹ng',
    'enter_username': 'Nháº­p tÃªn ngÆ°á»i dÃ¹ng',
    'enter_email': 'Nháº­p email',
    'invalid_email': 'Email khÃ´ng há»£p lá»‡',
    'enter_password': 'Nháº­p máº­t kháº©u',
    'register_success': 'ÄÄƒng kÃ½ thÃ nh cÃ´ng!',
    'register_failed': 'ÄÄƒng kÃ½ tháº¥t báº¡i, thá»­ láº¡i',
    'login_success': 'ÄÄƒng nháº­p thÃ nh cÃ´ng!',
    'login_failed': 'ÄÄƒng nháº­p tháº¥t báº¡i',
    'description': 'Giá»›i thiá»‡u',
    'no_description': 'ChÆ°a cÃ³ mÃ´ táº£',
    'reviews': 'ÄÃ¡nh giÃ¡',
    'add_review': 'ThÃªm Review',
    'average_rating': 'ÄÃ¡nh giÃ¡ trung bÃ¬nh',
    'map_placeholder': 'Map sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y',
    'content_review': 'Ná»™i dung review',
    'enter_content': 'Nháº­p ná»™i dung',
    'send_review': 'Gá»­i Review',
    'account_info': 'ThÃ´ng tin tÃ i khoáº£n',
    'change_avatar': 'Äá»•i avatar',
    'name': 'TÃªn',
    'save_changes': 'LÆ°u thay Ä‘á»•i',
    'update_success': 'Cáº­p nháº­t thÃ´ng tin thÃ nh cÃ´ng',
    'update_failed': 'Cáº­p nháº­t tháº¥t báº¡i',
    'upload_avatar_success': 'Upload avatar thÃ nh cÃ´ng',
    'upload_avatar_failed': 'Upload avatar tháº¥t báº¡i',
    'my_reviews': 'Quáº£n lÃ½ bÃ i review',
    'favorites': 'QuÃ¡n Äƒn Ä‘Ã£ yÃªu thÃ­ch',
    'register_prompt': 'ChÆ°a cÃ³ tÃ i khoáº£n. ÄÄƒng kÃ­ ngay.',
    'login_prompt': 'ÄÃ£ cÃ³ tÃ i khoáº£n. ÄÄƒng nháº­p ngay.',
    'email': 'Email',
    'password': 'Máº­t kháº©u',
    'write_comment': 'ThÃªm bÃ¬nh luáº­n',
    'introduction': 'Giá»›i thiá»‡u',
    'review_content': 'Ná»™i dung',
    'submit_review': 'ThÃªm bÃ i review',
    "restaurant_category": "QuÃ¡n Äƒn",
    "loading": "Äang táº£i...",
    "error": "Lá»—i",
    "no_restaurants": "KhÃ´ng cÃ³ quÃ¡n Äƒn nÃ o",
    "search_hint": "TÃ¬m kiáº¿m",
    "no_categories": "KhÃ´ng cÃ³ danh má»¥c nÃ o",
    "category_title": "Danh má»¥c",
    "add_review_with_restaurant": "ThÃªm review vá»›i nhÃ  hÃ ng",
    "restaurant_info": "ThÃ´ng tin nhÃ  hÃ ng",
    "restaurant_name": "TÃªn nhÃ  hÃ ng",
    "restaurant_address": "Äá»‹a chá»‰ nhÃ  hÃ ng",
    "restaurant_description": "MÃ´ táº£ nhÃ  hÃ ng",
    "add_restaurant": "ThÃªm nhÃ  hÃ ng",
    "restaurant_added_success": "ThÃªm nhÃ  hÃ ng thÃ nh cÃ´ng",
    "restaurant_added_error": "ThÃªm nhÃ  hÃ ng tháº¥t báº¡i",
    "review_info": "ThÃ´ng tin review",
    "add_review_error": "ThÃªm review tháº¥t báº¡i",
    "enter_name": "Vui lÃ²ng nháº­p tÃªn",
    "enter_address": "Vui lÃ²ng nháº­p Ä‘á»‹a chá»‰",
    "please_add_restaurant_first": "Vui lÃ²ng thÃªm nhÃ  hÃ ng trÆ°á»›c",
    "comment_failed": "BÃ¬nh luáº­n tháº¥t báº¡i!",
    "existing_restaurants": "NhÃ  hÃ ng Ä‘Ã£ tá»“n táº¡i",
    "select_restaurant": "Chá»n nhÃ  hÃ ng",
    "favorites_fav": "LÆ°á»£t yÃªu thÃ­ch",
    "top_rated_restaurants": "Top quÃ¡n Äƒn ná»•i báº­t",
    "already_logged_in": "Báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p",
    "recommendations": "Äá» xuáº¥t",
    "category": "Danh má»¥c",
    "profile": "CÃ¡ nhÃ¢n",
    'welcome_back_title': 'ChÃ o má»«ng trá»Ÿ láº¡i ğŸ‘‹',
    'welcome_back_subtitle': 'ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c khÃ¡m phÃ¡ mÃ³n ngon nhÃ©!',
    'no_account': 'ChÆ°a cÃ³ tÃ i khoáº£n?',
    'register_now': 'ÄÄƒng kÃ½ ngay ğŸ’™',
    'create_account_title': 'Táº¡o tÃ i khoáº£n má»›i âœ¨',
    'create_account_subtitle':
        'Tham gia ReviewFood Ä‘á»ƒ chia sáº» vÃ  khÃ¡m phÃ¡ mÃ³n ngon!',
    'already_have_account': 'ÄÃ£ cÃ³ tÃ i khoáº£n?',
    'back_to_login': 'ÄÄƒng nháº­p ngay ğŸ’™',
    'no_results': 'KhÃ´ng tÃ¬m tháº¥y quÃ¡n Äƒn nÃ o ğŸ˜…',
    'rating_label': 'Ä‘iá»ƒm Ä‘Ã¡nh giÃ¡',
    'enter_keyword': 'Nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m ğŸœ',
    'search_error': 'Lá»—i khi tÃ¬m kiáº¿m',
    'search_results': 'Káº¿t quáº£ tÃ¬m kiáº¿m ğŸœ',
    'nearby_restaurants': 'CÃ¡c quÃ¡n gáº§n báº¡n ğŸ´',
    'add_new_restaurant': 'ThÃªm quÃ¡n má»›i',
    'distance': 'CÃ¡ch',
    'location_permission_denied': 'Vui lÃ²ng cáº¥p quyá»n vá»‹ trÃ­ Ä‘á»ƒ xem báº£n Ä‘á»“',
    'loading_map': 'Äang táº£i báº£n Ä‘á»“...',
    'please_login': 'HÃ£y Ä‘Äƒng nháº­p',
    "collapse_comments": "Thu gá»n bÃ¬nh luáº­n â–²",
    "see_more_comments": "Xem thÃªm bÃ¬nh luáº­n â–¼",
    "login_required": "Báº¡n pháº£i Ä‘Äƒng nháº­p Ä‘á»ƒ xem vÃ  bÃ¬nh luáº­n.",
    "comment_success": "ÄÃ£ bÃ¬nh luáº­n thÃ nh cÃ´ng ğŸ‰",
    "comment_success_title": "BÃ¬nh luáº­n thÃ nh cÃ´ng",
    "comment_success_message": "BÃ¬nh luáº­n cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c gá»­i thÃ nh cÃ´ng.",
    "ok": "OK",
    "review_detail": "Chi tiáº¿t bÃ i Ä‘Ã¡nh giÃ¡",
    'review_added_success': 'ğŸ‰ ThÃªm Ä‘Ã¡nh giÃ¡ thÃ nh cÃ´ng!',
    'review_added_msg': 'ğŸ“ BÃ i Ä‘Ã¡nh giÃ¡ cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng thÃ nh cÃ´ng.',
    'update_restaurant_location': 'ğŸ“ Cáº­p nháº­t vá»‹ trÃ­ quÃ¡n',
    'confirm_use_current_location':
        'ğŸ“ŒHiá»‡n táº¡i báº¡n cÃ³ Ä‘ang á»Ÿ táº¡i quÃ¡n nÃ y khÃ´ng? Náº¿u cÃ³, há»‡ thá»‘ng sáº½ dÃ¹ng vá»‹ trÃ­ cá»§a báº¡n Ä‘á»ƒ cáº­p nháº­t tá»a Ä‘á»™ quÃ¡n.',
    'update_location_success': 'âœ… Cáº­p nháº­t vá»‹ trÃ­ quÃ¡n thÃ nh cÃ´ng!',
    'update_location_failed': 'âš ï¸ KhÃ´ng thá»ƒ cáº­p nháº­t vá»‹ trÃ­ quÃ¡n.',
    'error_getting_location': 'âŒ Lá»—i khi láº¥y vá»‹ trÃ­',
    'yes': 'CÃ³',
    'no': 'KhÃ´ng',
    'blue': 'Xanh dÆ°Æ¡ng',
    'red': 'Äá»',
    'green': 'Xanh lÃ¡',
    'rvs': '',
    "login_to_see_recommendations": "HÃ£y Ä‘Äƒng nháº­p Ä‘á»ƒ xem gá»£i Ã½ phÃ¹ há»£p nhÃ©",
  "recommendation_error": "Lá»—i táº£i gá»£i Ã½ ğŸ˜¢",
  "no_recommendations": "KhÃ´ng cÃ³ gá»£i Ã½ nÃ o ğŸ˜…"
  },
  'en': {
    'home_title': 'Home',
    'login': 'Login',
    'logout': 'Logout',
    'review_feed': 'Review Feed',
    'settings': 'Settings',
    'language': 'Language',
    'dark_mode': 'Dark Mode',
    'theme_color': 'Theme Color',
    'font_size': 'Font Size',
    'send': 'Send',
    'no_reviews': 'No reviews yet.',
    'no_comments': 'No comments yet.',
    'register': 'Register',
    'username': 'Username',
    'enter_username': 'Enter username',
    'enter_email': 'Enter email',
    'invalid_email': 'Invalid email',
    'enter_password': 'Enter password',
    'register_success': 'Registration successful!',
    'register_failed': 'Registration failed, try again',
    'login_success': 'Login successful!',
    'login_failed': 'Login failed',
    'description': 'Description',
    'no_description': 'No description available',
    'reviews': 'Reviews',
    'add_review': 'Add Review',
    'average_rating': 'Average rating',
    'map_placeholder': 'Map will be shown here',
    'content_review': 'Review Content',
    'enter_content': 'Enter content',
    'send_review': 'Send Review',
    'account_info': 'Account Info',
    'change_avatar': 'Change Avatar',
    'name': 'Name',
    'save_changes': 'Save Changes',
    'update_success': 'User info updated successfully',
    'update_failed': 'Update failed',
    'upload_avatar_success': 'Avatar uploaded successfully',
    'upload_avatar_failed': 'Avatar upload failed',
    'my_reviews': 'My Reviews',
    'favorites': 'Favorite Restaurants',
    'login_prompt': 'Already have an account? Log in now.',
    'register_prompt': 'No account yet. Sign up now.',
    'email': 'Email',
    'password': 'Password',
    'write_comment': 'Add comment',
    'introduction': 'Introduction',
    'review_content': 'Review content',
    'submit_review': 'Add review',
    "restaurant_category": "QuÃ¡n Äƒn",
    "loading": "Äang táº£i...",
    "error": "Lá»—i",
    "no_restaurants": "KhÃ´ng cÃ³ quÃ¡n Äƒn nÃ o",
    "search_hint": "search",
    "no_categories": "No categories available",
    "category_title": "Categories",
    "add_review_with_restaurant": "Add review with restaurant",
    "restaurant_info": "Restaurant information",
    "restaurant_name": "Restaurant name",
    "restaurant_address": "Restaurant address",
    "restaurant_description": "Restaurant description",
    "add_restaurant": "Add restaurant",
    "restaurant_added_success": "Restaurant added successfully",
    "restaurant_added_error": "Failed to add restaurant",
    "review_info": "Review information",
    "add_review_error": "Failed to add review",
    "enter_name": "Please enter the name",
    "enter_address": "Please enter the address",
    "please_add_restaurant_first": "Please add a restaurant first",
    "comment_failed": "Fail to add comment!",
    "existing_restaurants": "Existing restaurants",
    "select_restaurant": "Select restaurant",
    "favorites_fav": "favorited",
    "top_rated_restaurants": "Top restaurants",
    "already_logged_in": "You are already logged in",
    "recommendations": "Recommendations",
    "category": "Category",
    "profile": "Profile",
    'welcome_back_title': 'Welcome back ğŸ‘‹',
    'welcome_back_subtitle': 'Log in to continue exploring delicious places!',
    'no_account': "Don't have an account?",
    'register_now': 'Register now ğŸ’™',
    'create_account_title': 'Create a new account âœ¨',
    'create_account_subtitle':
        'Join ReviewFood to share and discover tasty places!',
    'already_have_account': 'Already have an account?',
    'back_to_login': 'Log in now ğŸ’™',
    'no_results': 'KhÃ´ng tÃ¬m tháº¥y quÃ¡n Äƒn nÃ o ğŸ˜…',
    'rating_label': 'Ä‘iá»ƒm Ä‘Ã¡nh giÃ¡',
    'enter_keyword': 'Nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m ğŸœ',
    'search_error': 'Lá»—i khi tÃ¬m kiáº¿m',

    'search_results': 'Search results ğŸœ',
    'nearby_restaurants': 'Nearby restaurants ğŸ´',
    'add_new_restaurant': 'Add new restaurant',
    'distance': 'Distance',
    'location_permission_denied':
        'Please enable location access to use the map',
    'loading_map': 'Loading map...',
    'please_login': 'Please login',
    "collapse_comments": "Collapse comments â–²",
    "see_more_comments": "See more comments â–¼",
    "login_required": "You must be logged in to view and comment.",
    "comment_success": "Comment posted successfully ğŸ‰",
    "comment_success_title": "Comment Successful",
    "comment_success_message": "Your comment has been sent successfully.",
    "ok": "OK",
    "review_detail": "Review detail",
    'review_added_success': 'ğŸ‰ Review Added Successfully!',
    'review_added_msg': 'ğŸ“ Your review has been posted successfully.',
    'update_restaurant_location': 'ğŸ“ Update Restaurant Location',
    'confirm_use_current_location':
        'ğŸ“ŒAre you currently at this restaurant? If yes, your current location will be used to update its coordinates.',
    'update_location_success': 'âœ… Restaurant location updated successfully!',
    'update_location_failed': 'âš ï¸ Failed to update restaurant location.',
    'error_getting_location': 'âŒ Error while getting location',
    'yes': 'Yes',
    'no': 'No',
    'blue': 'Blue',
    'red': 'Red',
    'green': 'Green',
    'rvs': '',
     "login_to_see_recommendations": "Please log in to see personalized recommendations",
  "recommendation_error": "Failed to load recommendations ğŸ˜¢",
  "no_recommendations": "No recommendations found ğŸ˜…"
  },
};

// Extension trÃªn BuildContext Ä‘á»ƒ láº¥y text theo key
extension Translate on BuildContext {
  /// Láº¥y text vÃ  rebuild khi SettingsProvider.language thay Ä‘á»•i
  String t(String key) {
    final lang = watch<SettingsProvider>().language;
    return localizedValues[lang]?[key] ?? key;
  }

  /// Láº¥y text nhÆ°ng KHÃ”NG rebuild (dÃ¹ng trong onPressed, async...)
  String tRead(String key) {
    final lang = read<SettingsProvider>().language;
    return localizedValues[lang]?[key] ?? key;
  }
}
